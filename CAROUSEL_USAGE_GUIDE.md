# 活动轮播功能使用指南

## 📋 功能说明

首页活动轮播已完成开发，具有以下特性：

### ✅ 轮播特性
1. **自动轮播** - 每5秒自动切换到下一张
2. **手动控制** - 支持左右箭头切换（箭头始终显示）
3. **3D卡片效果** - 漂亮的卡片式轮播
4. **响应式设计** - 自适应不同屏幕尺寸

### ✅ 必填字段要求
创建活动时，以下字段为**必填项**：
- ✅ **活动海报（背景图片）** - 必须上传
- ✅ **活动标题**
- ✅ **活动日期**
- ✅ **举办部门**
- ✅ **活动地点**
- ✅ **优先级**
- ✅ **状态**

### ✅ 显示规则
轮播只显示满足以下条件的活动：
1. 活动日期在**当天至未来7天内**
2. 活动状态**不是"已取消"**
3. **必须有背景图片**（海报）

---

## 🎯 使用步骤

### 1. 创建带海报的活动

1. **登录管理员账号**
   ```
   用户名: admin
   密码: admin123
   ```

2. **进入管理面板**
   - 访问 `http://127.0.0.1:3000/admin`
   - 或点击顶部导航的"管理"按钮

3. **点击"创建日程"**

4. **填写必填信息**：
   
   **基本信息**
   - 标题: 例如"前端技术分享会"
   - 日期: 选择未来7天内的日期
   - 时间: 设置开始和结束时间
   
   **必填字段**
   - 举办部门: 例如"技术部" ⚠️ 必填
   - 活动地点: 例如"会议室A" ⚠️ 必填
   - 预计人数: 例如 30
   
   **海报图片** ⚠️ 必填
   - 点击"上传海报（必填）"按钮
   - 选择图片文件
   - 建议尺寸: 800x400px 或 16:9 比例
   - 支持格式: JPG, PNG, GIF, WEBP
   - 最大5MB

5. **保存活动**
   - 点击"创建"按钮
   - 系统会验证所有必填字段
   - 如果缺少海报图片，会提示"活动海报（背景图片）不能为空，请上传图片"

---

### 2. 查看轮播效果

1. **访问首页**
   ```
   http://127.0.0.1:3000
   ```

2. **滚动到"近期活动预告"区域**
   - 位于首页中部
   - 渐变紫色背景

3. **查看轮播**
   - 活动卡片自动每5秒切换
   - 点击左右箭头手动切换
   - 点击底部指示点快速跳转

4. **活动卡片显示内容**
   - 🖼️ 活动海报（背景）
   - 🏷️ 优先级标签（高/中/低）
   - 📋 状态标签（待开始/进行中等）
   - 📅 活动时间（日期+时间段）
   - 📍 活动地点
   - 🏢 举办部门
   - 👥 预计参与人数
   - 📝 活动描述

---

## 🎨 示例活动数据

### 示例1：技术分享会
```
标题: 前端技术分享会
日期: 2025-11-08
时间: 14:00 - 16:00
举办部门: 技术部
地点: 会议室A
预计人数: 30
优先级: 高
状态: 待处理
海报: [上传相关图片]
描述: 分享最新的前端技术栈和最佳实践
```

### 示例2：团队建设
```
标题: 秋季团队建设活动
日期: 2025-11-10
时间: 09:00 - 17:00
举办部门: 人力资源部
地点: 郊区度假村
预计人数: 80
优先级: 高
状态: 待处理
海报: [上传团建活动图片]
描述: 增强团队凝聚力，放松身心
```

### 示例3：产品发布
```
标题: 新产品发布会
日期: 2025-11-07
时间: 10:00 - 12:00
举办部门: 市场部
地点: 多功能厅
预计人数: 150
优先级: 高
状态: 待处理
海报: [上传产品发布会图片]
描述: 发布公司最新产品，邀请媒体和客户参加
```

---

## ⚠️ 注意事项

### 图片要求
1. **必须上传** - 没有图片的活动不会在轮播中显示
2. **尺寸建议** - 800x400px 或保持 16:9 比例
3. **文件大小** - 最大 5MB
4. **支持格式** - JPG, PNG, GIF, WEBP

### 时间要求
1. **显示范围** - 只显示当天至未来7天内的活动
2. **过期自动隐藏** - 过了日期的活动自动不再显示

### 状态要求
1. **已取消不显示** - 状态为"已取消"的活动不会在轮播中显示
2. **其他状态均显示** - 待处理、进行中、已完成都会显示

---

## 🐛 常见问题

### Q1: 为什么轮播是空的？
**A**: 检查以下几点：
1. 是否有未来7天内的活动？
2. 活动是否上传了海报图片？
3. 活动状态是否为"已取消"？

### Q2: 创建活动时提示"活动海报不能为空"？
**A**: 必须先上传海报图片才能创建活动。点击"上传海报"按钮，选择图片文件。

### Q3: 轮播不会自动切换？
**A**: 
1. 检查是否只有1个活动（至少需要2个才能看到切换效果）
2. 刷新页面重试
3. 检查浏览器控制台是否有错误

### Q4: 图片显示不出来？
**A**: 
1. 确认图片已成功上传（表单中应显示预览）
2. 检查图片URL是否正确
3. 确认后端 `/uploads/` 目录有读写权限

### Q5: 如何修改已有活动的海报？
**A**: 
1. 在管理面板点击要编辑的活动
2. 点击预览图右上角的删除按钮
3. 重新上传新的海报图片
4. 保存

---

## 🎛️ 轮播配置

如需调整轮播参数，编辑 `frontend/src/components/EventCarousel.vue`：

```vue
<el-carousel
  :interval="5000"    <!-- 切换间隔（毫秒），默认5秒 -->
  type="card"         <!-- 类型：card=3D卡片效果 -->
  height="400px"      <!-- 轮播高度 -->
  :autoplay="true"    <!-- 是否自动播放 -->
  arrow="always"      <!-- 箭头显示方式：always=始终显示 -->
>
```

---

## 📊 技术细节

### 前端验证
- 表单提交前验证必填字段
- 图片上传前验证格式和大小
- 实时显示验证错误信息

### 后端验证
- API 接口验证必填字段
- 返回明确的错误提示
- 防止无图片活动创建

### 数据过滤
- 前端过滤：只显示有图片的活动
- 后端查询：只返回7天内未取消的活动
- 自动排序：按日期和时间升序排列

---

## ✅ 测试清单

创建活动后，请验证：
- [ ] 首页轮播显示该活动
- [ ] 海报图片正确显示
- [ ] 时间信息正确
- [ ] 地点显示正确
- [ ] 部门显示正确
- [ ] 人数显示正确
- [ ] 自动轮播正常
- [ ] 手动切换正常
- [ ] 点击卡片有反馈

---

## 📞 技术支持

如有问题：
1. 检查浏览器控制台（F12）错误信息
2. 检查后端日志
3. 参考本文档的常见问题部分

---

**版本**: v1.3.0  
**更新日期**: 2025-11-05  

🎉 **祝使用愉快！**


